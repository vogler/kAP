\documentclass{scrartcl}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage[pdftex]{hyperref}
\usepackage{float}
\usepackage[pdftex]{graphicx}
\DeclareGraphicsExtensions{.pdf, .png, .jpg}
\usepackage{color}
\usepackage{tikz}
\usepackage{graphicx}

\newcommand{\red}[1]{{\color{red} #1}}

% Command for inserting a todo item
\newcommand{\todo}[1]{%
% Add to todo list
\addcontentsline{tdo}{todo}{\protect{#1}}%
%
\begin{tikzpicture}[remember picture, baseline=-0.75ex]%
\node [coordinate] (inText) {};
\end{tikzpicture}%
%
% Make the margin par
\marginpar{%
\begin{tikzpicture}[remember picture]%
\definecolor{orange}{rgb}{1,0.5,0}
\draw node[draw=black, fill=orange, text width = 2.5cm] (inNote)
{#1};%
\end{tikzpicture}%
}%
%
\begin{tikzpicture}[remember picture, overlay]%
\draw[draw = orange, thick]
([yshift=-0.2cm] inText)
-| ([xshift=-0.3cm] inNote.west)
-| (inNote.west);
\end{tikzpicture}%
%
}%

\newcommand{\graphic}[3][width=\linewidth] % options, label/filename, caption
{
  \begin{figure}[h!t]
    \centering
    \includegraphics[#1]{img/#2}
    \caption{#3}
    \label{fig:#2}
  \end{figure}
}
\newcommand{\refFigure}[1]{figure \ref{fig:#1}}

\title{Visualization of 3D Gamma Probe Data on a Mobile Device}
\author{Johannes Merkle \\ Ralf Vogler}
%\institute{Technische Universit\"at M\"unchen\\
%\email{merkle@in.tum.de \hspace vogler@in.tum.de}}

%\def\imgsize{3in}

\begin{document}
\maketitle
\tableofcontents


\begin{abstract}
The usability of a system is an important factor of its success, especially if the system is used in a complex environment like the operating room. Therefore there has been a lot of research and many new developments in this field recently, like tracked probes in freehand SPECT systems.\todo{Vorteil von FHSpect ist doch nicht unbedingt Usablity sondern Preis?} In this paper we present an approach that further improves the usability of such a system by attaching a handheld device to the probe in order to avoid issues with hand-eye coordination of the user. The approach is then evaluated in a short usability user study.
\end{abstract}



\section{Introduction}


\subsection{Usability of intra-operative systems}\todo{intra-operative systems?}
\red{IPCAI11Usability zusammenfassen, usability erkl�ren, verweis auf declipsespect und brainlabding}
\paragraph*{Usability for medical devices}
The goal of usability engineering is to make a product more efficient to use, easier to learn and more satisfying for the user.

Since medical devices are typically safety-critical, they must meet specific requirements for usability. Besides the usability factors effectiveness, efficiency and satisfaction, they must also be safe. The software has to be intuitive, stable and easy to use. Before it can be used in the operating room a usability test in a special usability lab should be performed in order to simulate a typical user environment and situation.
\paragraph*{Usability in Bezug auf declipseSPECT und Brainlab-Ding}


\subsection{Sentinel lymph node biopsy}
\red{slnb beschreiben Wendler2010EurJNuclMedMolImaging}\\
Bla bla, see lymphatic system shown in \refFigure{lymphatic-system}.
\graphic[scale=.7]{lymphatic-system}{The lymphatic system}


\subsection{declipseSPECT (freehand spect) -> comparison with SPECT/CT}
%beschreibung declipsespect 
%Navab2008ISBINavigatedProbeOverview
%Wendler2007MICCAIRecon
%Wendler2010EurJNuclMedMolImaging
The declipseSPECT system combines a handheld 1D-gammaprobe with a camera tracking system. The tracking system tracks both the patient and the probe which have retro-reflective markers attached to them. This way, the position and angle of the probe in relation to the patient is known at all times (given that the markers aren't occluded). When using the probe to measure the radioactivity of a tracer in the region of interest, the position, angle and measurements of the probe are collected. Based on this data, a 3D reconstruction of the meassured radition can be computed.
This data can then be used to augment the video stream from the tracking cameras' position (camera view). Another option is to show a virtual image from the probes' position (3D view).
The system consists of the tracked probe, a tracking marker on the patient and a terminal that holds the cameras (two infrared for tracking, one video) and has a touch-screen attached to it, which is used for both the visualization and user input. The declipseSPECT stationary system is shown in \refFigure{declipseSPECT} and \refFigure{declipseSPECT-OR} shows how it is used in the operating room.
\graphic[scale=.7]{declipseSPECT}{declipseSPECT stationary system}
\graphic[scale=.7]{declipseSPECT-OR}{declipseSPECT in the operating room}


\subsection{Usability problem: hand-eye-coordination between probe and monitor}
%skizze/bild
%problematik erkl�ren und veranschaulichen
%\\
When using the the declipseSPECT system, the surgeon needs to look at the screen to be able to see the radioactivity hotspots. At the same time he needs to see the patient to properly navigate the probe. This could lead to difficulties because he either needs to continuously switch between looking at the patient and the screen or try to navigate the probe while looking at the screen which shows the scenery from the tracking cameras point of view, which might lead to issues with hand-eye coordination.
In this paper we introduce an addition to the declipseSPECT system that tries to solve this problem.


\subsection{Approach}

%Visualization of acquired radiation data directly on a display attached to the probe.

Our approach is to visualize the important data from the terminal screen on a screen attached to the probe, so the data is always in the surgeons' field of view. 



\section{Design}
A mock-up of the interface is shown in \refFigure{mockup} and the final version of the UI in \refFigure{screen-annotated}.
\graphic[scale=.5]{mockup}{Mock-up of the user interface}
\graphic[scale=.5]{screen-annotated}{Final version of the user interface with annotations}
\red{haupts�chlich darstellung von hotspots
auch: activity + activity histogramm}



\section{Implementation}
Hardware: iPod Touch 4G\\
Development environment: Objective C in Xcode\\
Libraries: GoogleData for XML-processing\\
Visualization: OpenGL ES 1.1 (without vertex and fragment shaders)\\
\red{(OpenGL basics, transformation matrices etc.)\\
(lighting modes)}\\
Data exchange: XML from HTTP-Server in existing software\\

\paragraph*{Overview}
\graphic[scale=.8]{sequence-diagram}{Sequence diagram}

\paragraph*{Data}
An example for the transmitted XML is shown in \refFigure{data}. The client currently polls this data 20 times per second (enough for fluid visualization) and the server responds with the current values each time. The system has been sucessfully tested with up to 50Hz, which didn't show any remarkable performance impact on the client nor the server.
\graphic[scale=.5]{data}{Example for XML-data with annotations}

\paragraph*{Visualization of data}
Since there is no framework like glut, the spheres had to be drawn manually. To initialize a sphere the function \verb|initSolidSphere| gets arrays in which the computed vertices of triangle fans and triangle strips will be stored, the radius of the sphere and how many stacks (horizontal) and slices (vertical) should be used.

The signature of the function looks as follows:
\begin{verbatim}
initSolidSphere(Vertex3D **triangleStripVertexHandle,
    Vector3D **triangleStripNormalHandle,
    GLuint *triangleStripVertexCount,
    Vertex3D **triangleFanVertexHandle,
    Vector3D **triangleFanNormalHandle,
    GLuint *triangleFanVertexCount,
    GLfloat radius,
    GLuint slices, GLuint stacks)
\end{verbatim}
\graphic[scale=.5]{sphere}{Wireframe sphere and its constituents}


\section{Tests}
\paragraph*{Setup}
The iPod touch had to be fixated on the probe, for which we used Velcro strips (see \refFigure{probe}). Since there are no cables, it can be easily removed if the additional display isn't needed.
\graphic[scale=.5]{probe}{Attachment of the iPod to the probe}

For the usability evaluation we selected persons familiar with the declipseSPECT environment and let them use the system. We gave a task to be done using the modified declipseSPECT system afterwards asked them to fill out an evaluation questionnaire.
The task was to focus all radioactivity hotspot in a set of prerecorded demo data not using the terminal screen but only the screen attached to the probe. Additionally the slider was to be used to set a suitable sphere size to properly display the data. The evaluation questionnaire was the SUS [TODO: Zitat] questionnaire and additional questions more directly related to the system. The additional questions were not used for determining the SUS score.
The result of the evaluation was generally positive with an average SUS score of 79.16 of 100 points. The additional questions indicated that the way the iPod is attached to the probe could be improved.



\section{Conclusion}
Usability compared to previous system
\paragraph*{Good feedback}
Intuitive handling, good visualization
\paragraph*{Further challenges}
Sterility, adjustable display angle, evaluation by medical personnel


\bibliographystyle{alpha}
\bibliography{ausarbeitung}

\end{document}